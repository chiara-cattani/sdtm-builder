% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod_j_codegen.R
\name{gen_domain_script}
\alias{gen_domain_script}
\title{Generate a standalone R script for a single domain}
\usage{
gen_domain_script(
  domain,
  rule_set,
  target_meta,
  config,
  domain_meta = NULL,
  style = "tidyverse",
  include_comments = TRUE,
  output_path = NULL,
  metadata_path = NULL,
  ct_path = NULL,
  raw_dir = NULL,
  output_dir = NULL,
  tpt_source_var = NULL,
  export_formats = c("xpt", "rda")
)
}
\arguments{
\item{domain}{Character.}

\item{rule_set}{\code{rule_set}.}

\item{target_meta}{Tibble.}

\item{config}{\code{sdtm_config} or list.}

\item{domain_meta}{Tibble or \code{NULL}.}

\item{style}{Character. \code{"tidyverse"} (default).}

\item{include_comments}{Logical. Default \code{TRUE}.}

\item{output_path}{Character or \code{NULL}. If non-\code{NULL}, writes the script.}

\item{metadata_path}{Character or \code{NULL}.}

\item{ct_path}{Character or \code{NULL}.}

\item{raw_dir}{Character or \code{NULL}.}

\item{output_dir}{Character or \code{NULL}.}

\item{tpt_source_var}{Character or \code{NULL}. Source variable for TPT
derivation (e.g., \code{"eventid"}). Defaults to \code{"eventid"}.}

\item{export_formats}{Character vector. Output formats for the generated
export step. Default \code{c("xpt", "rda")}.}
}
\value{
Character string of the generated script (invisibly if written).
}
\description{
Produces a fully commented, piped R program that reproduces the derivation
for one domain.  The generated script uses only \code{sdtmbuilder} functions
(no sdtm.oak), follows a professional layout with a header, working-directory
setup, metadata and raw-data import, a grouped piped derivation chain, and
an \code{\link[=export_domain]{export_domain()}} call.
}
\details{
If the \code{config} contains a \code{timepoint_map}, planned time point variables
are derived from that map using \code{case_when()}.
}
