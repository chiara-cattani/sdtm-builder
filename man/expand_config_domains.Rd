% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod_h_builders.R
\name{expand_config_domains}
\alias{expand_config_domains}
\title{Expand config-driven domains into raw data}
\usage{
expand_config_domains(raw_data, config, domains = NULL, verbose = TRUE)
}
\arguments{
\item{raw_data}{Named list of tibbles (modified in place).}

\item{config}{\code{sdtm_config} with \code{cfg_yaml} attached.}

\item{domains}{Character vector of requested domains.}

\item{verbose}{Logical. Default \code{TRUE}.}
}
\value{
Modified \code{raw_data} with new tibbles injected.
}
\description{
Some trial design domains (e.g. TV, TI) are not collected in a raw CRF
dataset â€” they come from the study configuration (protocol visit schedule,
inclusion/exclusion criteria text, etc.).
}
\details{
This function reads the \code{config_domains} section of \code{config.yaml} and,
for each declared domain, creates a raw data tibble from the
corresponding config section.

The resulting tibbles are injected into \code{raw_data} so that the standard
rule engine (\code{\link[=build_domain]{build_domain()}}) can process them like any other domain.
}
\section{config.yaml format}{


\if{html}{\out{<div class="sourceCode yaml">}}\preformatted{config_domains:
  TV:
    source: visit_map
    filter_field: tvstrl
    columns:
      visitnum: visitnum
      visit: visit
      visitdy: visitdy
      tvstrl: tvstrl
  TI:
    source: ie_criteria.criteria
    columns:
      ietestcd: ietestcd
      ietest: ietest
      iecat: iecat
    extra:
      tivers: ie_criteria.tivers
}\if{html}{\out{</div>}}
}

