% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod_g3_derive_dates.R
\name{derive_epoch}
\alias{derive_epoch}
\title{Derive EPOCH}
\usage{
derive_epoch(
  data,
  target_var = "EPOCH",
  dtc_var,
  epoch_map,
  ref_var = "RFSTDTC",
  by = "USUBJID"
)
}
\arguments{
\item{data}{Tibble.}

\item{target_var}{Character. Default \code{"EPOCH"}.}

\item{dtc_var}{Character. The DTC variable whose date determines the epoch.}

\item{epoch_map}{A list of lists (or data-frame), each with \code{epoch},
\code{start_day} (integer or \code{NULL}), and \code{end_day} (integer or \code{NULL}).}

\item{ref_var}{Character. Reference-date column in \code{data}. Default
\code{"RFSTDTC"}.}

\item{by}{Character vector. Grouping columns (unused for now, reserved for
multi-arm studies).}
}
\value{
Tibble with \code{target_var} populated.
}
\description{
Assigns EPOCH values by comparing each observation's date with study-day
windows defined in \code{epoch_map}.
}
