% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod_a_primitives.R
\name{new_log_sink}
\alias{new_log_sink}
\title{Create a structured log sink}
\usage{
new_log_sink(log_level = "INFO", file = NULL, context_fields = character())
}
\arguments{
\item{log_level}{Character. Minimum level to capture. Default \code{"INFO"}.}

\item{file}{Character or \code{NULL}. Path to log file.  If \code{NULL}, console only.}

\item{context_fields}{Character vector. Extra fields to include in each entry.}
}
\value{
S3 object of class \code{log_sink} (backed by an environment).
}
\description{
Captures log messages at different severity levels with timestamps,
module identifiers, and optional context.  Used internally by all modules
and can be redirected to console, file, or both.
}
\section{Unit tests}{

\itemize{
\item Messages below threshold are not captured
\item File output works
\item Flush empties buffer
}
}

